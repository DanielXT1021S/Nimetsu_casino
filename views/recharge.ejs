<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Depositar Fondos - Casino NIMETSU</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&family=Oxanium:wght@400;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="/css/global.css">
  <link rel="stylesheet" href="/css/components/navbar.css">
  <link rel="stylesheet" href="/css/components/account-sidebar.css">
  <link rel="stylesheet" href="/css/components/toast.css">
  <link rel="stylesheet" href="/css/components/modal.css">
  <link rel="stylesheet" href="/css/components/footer.css">
  <link rel="stylesheet" href="/css/recharge.css">
</head>
<body>
  <%- include('partials/header') %>

  <!-- Main Content -->
  <main class="main-container">
    <!-- Sidebar Menu -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <i class="fas fa-money-check-alt"></i>
        <h3>Métodos de Pago</h3>
      </div>
      
      <nav class="sidebar-nav">
        <button class="sidebar-item active" data-section="deposit">
          <i class="fas fa-credit-card"></i>
          <div class="sidebar-item-content">
            <span class="sidebar-item-title">Depositar</span>
            <span class="sidebar-item-desc">MercadoPago</span>
          </div>
        </button>
        
        <button class="sidebar-item" data-section="withdraw-bank">
          <i class="fas fa-university"></i>
          <div class="sidebar-item-content">
            <span class="sidebar-item-title">Retiro Bancario</span>
            <span class="sidebar-item-desc">Transferencia</span>
          </div>
        </button>
        
        <button class="sidebar-item" data-section="withdraw-crypto">
          <i class="fab fa-bitcoin"></i>
          <div class="sidebar-item-content">
            <span class="sidebar-item-title">Retiro Crypto</span>
            <span class="sidebar-item-desc">Bitcoin, USDT</span>
          </div>
        </button>
        
        <button class="sidebar-item" data-section="history">
          <i class="fas fa-history"></i>
          <div class="sidebar-item-content">
            <span class="sidebar-item-title">Historial</span>
            <span class="sidebar-item-desc">Transacciones</span>
          </div>
        </button>
      </nav>
    </aside>

    <!-- Main Content Area -->
    <div class="content-wrapper">
      <!-- Page Header -->
      <div class="page-header">
        <h1 id="pageTitle"><i class="fas fa-plus-circle"></i> Depositar Fondos</h1>
        <p id="pageDescription">Recarga tu saldo de forma rápida y segura con MercadoPago</p>
      </div>

      <!-- Deposit Section -->
      <div class="content-section active" id="deposit-section">
        <!-- Custom Amount -->
        <div class="custom-amount-section">
          
          <div class="amount-input-wrapper">
            <span class="currency-symbol">$</span>
            <input 
              type="number" 
              id="customAmount" 
              class="amount-input" 
              placeholder="Ingresa el monto (mín. $500)"
              min="500"
              step="100"
            >
            <span class="currency-label">CLP</span>
          </div>
          
          <div class="conversion-display">
            <i class="fas fa-coins"></i>
            <span>Recibirás: <strong id="fichasReceived">0</strong> fichas</span>
          </div>

          <button id="btnDepositCustom" class="btn-primary btn-large">
            <i class="fas fa-credit-card"></i> Continuar con MercadoPago
          </button>
        </div>

        <!-- Quick Amounts -->
        <div class="quick-amounts-section">
          <h3><i class="fas fa-zap"></i> Acceso Rápido</h3>
          <div class="quick-amounts-grid">
            <button class="quick-amount-btn" data-amount="1000">
              <span class="amount">$1,000</span>
              <span class="fichas">1,000 fichas</span>
            </button>
            <button class="quick-amount-btn" data-amount="5000">
              <span class="amount">$5,000</span>
              <span class="fichas">5,000 fichas</span>
            </button>
            <button class="quick-amount-btn" data-amount="10000">
              <span class="amount">$10,000</span>
              <span class="fichas">10,000 fichas</span>
            </button>
            <button class="quick-amount-btn" data-amount="20000">
              <span class="amount">$20,000</span>
              <span class="fichas">20,000 fichas</span>
            </button>
            <button class="quick-amount-btn" data-amount="50000">
              <span class="amount">$50,000</span>
              <span class="fichas">50,000 fichas</span>
            </button>
            <button class="quick-amount-btn" data-amount="100000">
              <span class="amount">$100,000</span>
              <span class="fichas">100,000 fichas</span>
            </button>
          </div>
        </div>

        <!-- Bonus Packages -->
        <div class="bonus-packages-section">
          <h3><i class="fas fa-gift"></i> Paquetes con Bonus</h3>
          <p class="section-description">¡Recibe fichas extra con estos paquetes especiales!</p>
          
          <div class="packages-grid" id="bonusPackages">
            <!-- Se llenarán dinámicamente -->
          </div>
        </div>
      </div>

      <!-- Withdraw Bank Section -->
      <div class="content-section" id="withdraw-bank-section">
        <div class="withdraw-container">
          
          <!-- Bank Account Form -->
          <div class="bank-form">
            <div class="form-group">
              <label><i class="fas fa-building"></i> Banco</label>
              <select id="bankSelect" class="form-input">
                <option value="">Selecciona tu banco</option>
                <option value="banco-estado">Banco Estado</option>
                <option value="banco-chile">Banco de Chile</option>
                <option value="santander">Santander</option>
                <option value="bci">BCI</option>
                <option value="scotiabank">Scotiabank</option>
                <option value="itau">Itaú</option>
                <option value="falabella">Banco Falabella</option>
                <option value="ripley">Banco Ripley</option>
              </select>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label><i class="fas fa-id-card"></i> RUT</label>
                <input type="text" id="rutInput" class="form-input" placeholder="12.345.678-9">
              </div>
              <div class="form-group">
                <label><i class="fas fa-credit-card"></i> Tipo de Cuenta</label>
                <select id="accountTypeSelect" class="form-input">
                  <option value="">Seleccionar</option>
                  <option value="corriente">Cuenta Corriente</option>
                  <option value="vista">Cuenta Vista</option>
                  <option value="ahorro">Cuenta de Ahorro</option>
                </select>
              </div>
            </div>

            <div class="form-group">
              <label><i class="fas fa-hashtag"></i> Número de Cuenta</label>
              <input type="text" id="accountNumberInput" class="form-input" placeholder="Ingresa el número de cuenta">
            </div>

            <div class="form-group">
              <label><i class="fas fa-dollar-sign"></i> Monto a Retirar</label>
              <div class="amount-input-wrapper">
                <span class="currency-symbol">$</span>
                <input 
                  type="number" 
                  id="withdrawBankAmount" 
                  class="amount-input" 
                  placeholder="Mínimo $5,000"
                  min="5000"
                  step="1000"
                >
                <span class="currency-label">CLP</span>
              </div>
            </div>

            <div class="withdraw-info">
              <div class="info-card">
                <i class="fas fa-info-circle"></i>
                <div>
                  <strong>Información importante:</strong>
                  <ul>
                    <li>Monto mínimo: $5,000 CLP</li>
                    <li>Tiempo de procesamiento: 1-3 días hábiles</li>
                    <li>Sin comisiones adicionales</li>
                    <li>La cuenta debe estar a tu nombre</li>
                  </ul>
                </div>
              </div>
            </div>

            <button id="btnWithdrawBank" class="btn-primary btn-large" disabled>
              <i class="fas fa-paper-plane"></i> Solicitar Retiro Bancario
            </button>
          </div>
        </div>
      </div>

      <!-- Withdraw Crypto Section -->
      <div class="content-section" id="withdraw-crypto-section">
        <div class="withdraw-container">
        
          <!-- Crypto Form -->
          <div class="crypto-form">
            <div class="crypto-select">
              <button class="crypto-option active" data-crypto="btc">
                <i class="fab fa-bitcoin"></i>
                <span>Bitcoin (BTC)</span>
              </button>
              <button class="crypto-option" data-crypto="usdt">
                <i class="fas fa-dollar-sign"></i>
                <span>Tether (USDT)</span>
              </button>
            </div>

            <div class="form-group">
              <label><i class="fas fa-wallet"></i> Dirección de Wallet</label>
              <input type="text" id="walletAddress" class="form-input" placeholder="Ingresa tu dirección de wallet">
              <small class="form-hint">Verifica que la dirección sea correcta. Las transacciones no son reversibles.</small>
            </div>

            <div class="form-group">
              <label><i class="fas fa-coins"></i> Monto a Retirar (Fichas)</label>
              <div class="amount-input-wrapper">
                <span class="currency-symbol">$</span>
                <input 
                  type="number" 
                  id="withdrawCryptoAmount" 
                  class="amount-input" 
                  placeholder="Mínimo $10,000"
                  min="10000"
                  step="1000"
                >
                <span class="currency-label">Fichas</span>
              </div>
              <div class="crypto-conversion">
                <span>≈ <span id="cryptoEquivalent">0.00</span> <span id="cryptoSymbol">BTC</span></span>
              </div>
            </div>

            <div class="withdraw-info">
              <div class="info-card warning">
                <i class="fas fa-exclamation-triangle"></i>
                <div>
                  <strong>Importante:</strong>
                  <ul>
                    <li>Monto mínimo: $10,000 fichas</li>
                    <li>Tiempo de procesamiento: 24-48 horas</li>
                    <li>Comisión de red variable según congestión</li>
                    <li>Verifica la dirección antes de confirmar</li>
                  </ul>
                </div>
              </div>
            </div>

            <button id="btnWithdrawCrypto" class="btn-crypto btn-large" disabled>
              <i class="fas fa-lock"></i> Solicitar Retiro en Crypto
            </button>
          </div>

          <div class="withdraw-note">
            <i class="fas fa-info-circle"></i>
            Función disponible próximamente
          </div>
        </div>
      </div>

      <!-- History Section -->
      <div class="content-section" id="history-section">
        <div class="history-container">
          <div class="history-header">
    
            <div class="history-filters">
              <button class="filter-btn active" data-filter="all">Todas</button>
              <button class="filter-btn" data-filter="deposit">Depósitos</button>
              <button class="filter-btn" data-filter="withdraw">Retiros</button>
            </div>
          </div>

          <div class="transactions-list" id="transactionsList">
            <div class="empty-state">
              <i class="fas fa-inbox"></i>
              <p>No hay transacciones aún</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <%- include('partials/footer') %>
  <%- include('partials/account-sidebar') %>

  <script src="/js/recharge.js"></script>
</body>
</html>
